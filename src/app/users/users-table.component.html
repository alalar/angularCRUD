
<div  class="card border-primary">    
    <div class="card-header text-white bg-primary ">
        <h3 class="panel-title text-center">Users 
            <button class="btn btn-success btn-xs clickable filter pull-right" data-toggle="tooltip" title="Show Filter" (click)="showFilterBox=!showFilterBox;">
                &nbsp;<i class="fa fa-filter" aria-hidden="true"></i>&nbsp;
            </button>
        </h3>
    </div>
    <div class="card-block" [hidden]="!showFilterBox">
            <div class="input-group col-10 m-2">
                <input type="text" class="form-control" #filterControl (keyup)="0"   placeholder="Enter the text to search"/>
                <span class="input-group-btn">
                        <button type="button" class="btn btn-primary text-center"><i class="fa fa-search" aria-hidden="true"></i></button>
                </span>
            </div>
                
    </div>
    <div class="table-responsive">         
        <table class="table">
            <thead class="thead-inverse">
                <th  (click)="sortingByColumn('userId')"><button class="btn btn-link" >ID
                        <i *ngIf="sortedByFieldName=='userId' && !ascendingOrder" class="fa fa-sort-alpha-desc" aria-hidden="true"></i>
                        <i *ngIf="sortedByFieldName=='userId' && ascendingOrder" class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                </button>
                </th>
                <th><button class="btn btn-link" (click)="sortingByColumn('username')">Name
                        <i *ngIf="sortedByFieldName=='username' && !ascendingOrder" class="fa fa-sort-alpha-desc" aria-hidden="true"></i>
                        <i *ngIf="sortedByFieldName=='username' && ascendingOrder" class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    </button>
                </th>
                <th><button class="btn btn-link" (click)="sortingByColumn('name')">Full name
                        <i *ngIf="sortedByFieldName=='name' && !ascendingOrder" class="fa fa-sort-alpha-desc" aria-hidden="true"></i>
                        <i *ngIf="sortedByFieldName=='name' && ascendingOrder" class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    </button>
                </th>
                <th><button class="btn btn-link" (click)="sortingByColumn('address')">Address
                        <i *ngIf="sortedByFieldName=='address' && !ascendingOrder" class="fa fa-sort-alpha-desc" aria-hidden="true"></i>
                        <i *ngIf="sortedByFieldName=='address' && ascendingOrder" class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    </button>
                </th>
                <th><button class="btn btn-link" (click)="sortingByColumn('city')">City
                        <i *ngIf="sortedByFieldName=='city' && !ascendingOrder" class="fa fa-sort-alpha-desc" aria-hidden="true"></i>
                        <i *ngIf="sortedByFieldName=='city' && ascendingOrder" class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    </button>
                </th>
                <th><button class="btn btn-link" (click)="sortingByColumn('phone')">Phone
                        <i *ngIf="sortedByFieldName=='phone' && !ascendingOrder" class="fa fa-sort-alpha-desc" aria-hidden="true"></i>
                        <i *ngIf="sortedByFieldName=='phone' && ascendingOrder" class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    </button>
                </th>
                <th><button class="btn btn-link" (click)="sortingByColumn('email')">Email
                        <i *ngIf="sortedByFieldName=='email' && !ascendingOrder" class="fa fa-sort-alpha-desc" aria-hidden="true"></i>
                        <i *ngIf="sortedByFieldName=='email' && ascendingOrder" class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    </button>
                </th>
                <th></th>
            </thead>
            <tbody *ngIf="users==null">
                <tr>
                    <td colspan=8 class="alert alert-info text-center">
                        Loading users info <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>
                    </td>
                </tr>
            </tbody>
            <tbody *ngIf="users!=null || true" >
                <tr *ngFor='let user of users | async | filterby : filterControl.value | sortby : sortedByFieldName : ascendingOrder'>
                    <td>{{user.userId}}</td>
                    <td>{{user.username}}</td>
                    <td>{{user.name}}</td>
                    <td>{{user.address}}</td>
                    <td>{{user.city}}</td>
                    <td>{{user.phone}}</td>
                    <td>{{user.email}}</td>
                    <td>
                        <button type="button" class="btn btn-link" title="edit" (click)="userFormTableService.editingItem(user.userId)" >
                                <i class="fa fa-edit text-green" aria-hidden="true"></i>
                        </button>
                        <button type="button" class="btn btn-link text-red" title="remove" (click)="showRemoveModalDlg(user)"> 
                                <i class="fa fa-remove" aria-hidden="true"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>
     <app-modal>
    </app-modal>
    
